import { OllamaProvider } from './providers/OllamaProvider';
import { OpenAIProvider } from './providers/OpenAIProvider';
export class LLMService {
    constructor(settings) {
        this.providers = new Map();
        this.settings = settings;
        this.initializeProviders();
    }
    initializeProviders() {
        const ollama = new OllamaProvider(this.settings.ollama);
        const openai = new OpenAIProvider(this.settings.openai);
        this.providers.set(ollama.id, ollama);
        this.providers.set(openai.id, openai);
    }
    getProvider(id) {
        const provider = this.providers.get(id);
        if (!provider)
            throw new Error(`Provider ${id} not found`);
        return provider;
    }
    getEnabledProviders() {
        // For now, return all since we don't have a "toggle" yet, 
        // but typically you'd filter by user choice.
        return Array.from(this.providers.values());
    }
    getSettings() {
        return this.settings;
    }
    updateSettings(settings) {
        this.settings = settings;
        this.initializeProviders();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTExNU2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkxMTVNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzVELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUU1RCxNQUFNLE9BQU8sVUFBVTtJQUluQixZQUFZLFFBQXFCO1FBSHpCLGNBQVMsR0FBNkIsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUlwRCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRU8sbUJBQW1CO1FBQ3ZCLE1BQU0sTUFBTSxHQUFHLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV4RCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELFdBQVcsQ0FBQyxFQUFVO1FBQ2xCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxRQUFRO1lBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDM0QsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVELG1CQUFtQjtRQUNmLDJEQUEyRDtRQUMzRCw2Q0FBNkM7UUFDN0MsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsV0FBVztRQUNQLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRUQsY0FBYyxDQUFDLFFBQXFCO1FBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExMTVNldHRpbmdzLCBQcm92aWRlclR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBMTE1Qcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL0xMTVByb3ZpZGVyJztcbmltcG9ydCB7IE9sbGFtYVByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvT2xsYW1hUHJvdmlkZXInO1xuaW1wb3J0IHsgT3BlbkFJUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9PcGVuQUlQcm92aWRlcic7XG5cbmV4cG9ydCBjbGFzcyBMTE1TZXJ2aWNlIHtcbiAgICBwcml2YXRlIHByb3ZpZGVyczogTWFwPHN0cmluZywgTExNUHJvdmlkZXI+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IExMTVNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IExMTVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5pbml0aWFsaXplUHJvdmlkZXJzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplUHJvdmlkZXJzKCkge1xuICAgICAgICBjb25zdCBvbGxhbWEgPSBuZXcgT2xsYW1hUHJvdmlkZXIodGhpcy5zZXR0aW5ncy5vbGxhbWEpO1xuICAgICAgICBjb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJUHJvdmlkZXIodGhpcy5zZXR0aW5ncy5vcGVuYWkpO1xuXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChvbGxhbWEuaWQsIG9sbGFtYSk7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChvcGVuYWkuaWQsIG9wZW5haSk7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXIoaWQ6IHN0cmluZyk6IExMTVByb3ZpZGVyIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVycy5nZXQoaWQpO1xuICAgICAgICBpZiAoIXByb3ZpZGVyKSB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVyICR7aWR9IG5vdCBmb3VuZGApO1xuICAgICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgZ2V0RW5hYmxlZFByb3ZpZGVycygpOiBMTE1Qcm92aWRlcltdIHtcbiAgICAgICAgLy8gRm9yIG5vdywgcmV0dXJuIGFsbCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgXCJ0b2dnbGVcIiB5ZXQsIFxuICAgICAgICAvLyBidXQgdHlwaWNhbGx5IHlvdSdkIGZpbHRlciBieSB1c2VyIGNob2ljZS5cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wcm92aWRlcnMudmFsdWVzKCkpO1xuICAgIH1cblxuICAgIGdldFNldHRpbmdzKCk6IExMTVNldHRpbmdzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IExMTVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5pbml0aWFsaXplUHJvdmlkZXJzKCk7XG4gICAgfVxufVxuIl19